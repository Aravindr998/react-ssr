(()=>{"use strict";var e={821:(e,t,n)=>{var r=n(537),a=n.n(r),o=n(645);n.n(o)()(a()).push([e.id,".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n","",{version:3,sources:["webpack://./src/App.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,oBAAoB;AACtB;;AAEA;EACE;IACE,4CAA4C;EAC9C;AACF;;AAEA;EACE,yBAAyB;EACzB,iBAAiB;EACjB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,6BAA6B;EAC7B,YAAY;AACd;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE;IACE,uBAAuB;EACzB;EACA;IACE,yBAAyB;EAC3B;AACF",sourcesContent:[".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n"],sourceRoot:""}])},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(void 0!==o&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=o),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),a&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=a):s[4]="".concat(a)),t.push(s))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[t].concat([o]).join("\n")}return[t].join("\n")}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r);const e=require("express");var t=n.n(e);const a=require("react");var o=n.n(a);const i=require("react-dom/server");require("isomorphic-fetch"),n(821);const c=require("react-router-dom");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const s=function(e){var t,n=e.rowData;return n.length&&(t=n.map((function(e){return o().createElement("tr",{key:e.id,className:"m-4"},o().createElement("td",null,e.title),o().createElement("td",null,e.description),o().createElement("td",null,e.price),o().createElement("td",null,e.rating),o().createElement("td",null,o().createElement(c.Link,{to:"/products/".concat(e.id)},"View Details")))}))),o().createElement("div",{className:"m-4"},o().createElement("table",null,o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",null,"Title"),o().createElement("th",null,"Description"),o().createElement("th",null,"Price"),o().createElement("th",null,"Rating"),o().createElement("th",null,"Action"))),o().createElement("tbody",null,t)))};var m=(0,a.createContext)([]),p=function e(){var t,n=(0,a.useContext)(m);"string"==typeof n&&(n=JSON.parse(n));var r=null===(t=n.initialData)||void 0===t?void 0:t.products,i=u((0,a.useState)(null!=r&&r.length?r:[]),2),c=i[0],l=i[1];return(0,a.useEffect)((function(){(null==r?void 0:r.length)>0?l(r):window.__initialData__&&(l(window.__initialData__),delete window.__initialData__)}),[r]),(0,a.useEffect)((function(){e.requestInitialData().then((function(e){return l(e.products)}))}),[]),o().createElement(s,{rowData:c})};p.requestInitialData=function(){return fetch("https://dummyjson.com/products").then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};const d=p,f=require("react-helmet"),A=function(e){var t,n,r=e.product;return o().createElement("div",null,o().createElement(f.Helmet,null,o().createElement("title",null,r.title),o().createElement("meta",{property:"og:title",content:r.title}),o().createElement("meta",{property:"og:description",content:r.description}),o().createElement("meta",{property:"og:image",content:r.thumbnail})),o().createElement("div",{className:"container flex justify-around p-12 w-full"},o().createElement("div",{className:"flex flex-col"},o().createElement("div",null,o().createElement("img",{src:null==r||null===(t=r.images)||void 0===t?void 0:t[0],alt:"",className:"rounded-lg max-h-80"}))),o().createElement("div",null,o().createElement("div",null,o().createElement("h2",{className:"text-2xl font-semibold mb-5"},"".concat(r.brand," ").concat(r.title))),o().createElement("div",null,o().createElement("p",{className:"mb-5"},r.description)),o().createElement("div",{className:"bg-black inline-block p-1.5 rounded-lg mb-5"},o().createElement("p",{className:"text-white font-semibold"},"Rating ",r.rating,"/5")),o().createElement("div",null,o().createElement("p",{className:"font-bold text-xl"},"Price $",r.price),o().createElement("p",{className:"text-green-900"},r.discountPercentage,"% discount")))),o().createElement("div",{className:"flex m-5"},null==r||null===(n=r.images)||void 0===n?void 0:n.map((function(e){return o().createElement("div",{key:e,className:"w-48 h-20"},o().createElement("img",{src:e,alt:"",className:"rounded-lg max-h-full"}))}))))};var E=function e(){var t=(0,c.useParams)().id,n=(0,a.useContext)(m);"string"==typeof n&&(n=JSON.parse(n));var r=n.initialData,i=u((0,a.useState)(null!=r&&r.id?r:{}),2),l=i[0],s=i[1];return(0,a.useEffect)((function(){null!=r&&r.id?s(r):window.__initialData__&&(s(window.__initialData__),delete window.__initialData__)}),[r]),(0,a.useEffect)((function(){e.requestInitialData("/products/".concat(t)).then((function(e){return s(e)}))}),[]),o().createElement("div",null,o().createElement(A,{product:l}))};E.requestInitialData=function(e){var t=e.slice(e.lastIndexOf("/")+1);return fetch("https://dummyjson.com/products/".concat(t)).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};const v=E,g=[{path:"/",element:o().createElement(d,null),component:d},{path:"/products/:id",element:o().createElement(v,null),component:v}],h=function(e){return e.value,o().createElement(c.Routes,null,g.map((function(e,t){return o().createElement(c.Route,{key:t,path:e.path,element:e.element})})))},y=require("react-router-dom/server");var b=t()();b.use(t().static("public")),b.get("*",(function(e,t){var n=g.find((function(t){return(0,c.matchPath)(t,e.url)})),r=n.component.requestInitialData&&n.component.requestInitialData(e.url);Promise.resolve(r).then((function(r){var a,c={initialData:r},l=(0,i.renderToString)(o().createElement(y.StaticRouter,{location:e.url},o().createElement(m.Provider,{value:JSON.stringify(c)},o().createElement(h,{value:JSON.stringify(c)})))),u="React";"/products/:id"===n.path&&(u=r.title,a='<meta property="og:title" content="'.concat(r.title,'" />\n        <meta property="og:description" content="').concat(r.description,'" />\n        <meta property="og:image" content="').concat(r.thumbnail,'" />')),t.send("\n        <!DOCTYPE html>\n            <head>\n              <title>".concat(u,"</title>\n              ").concat(a||"",'\n              <link rel="stylesheet" href="/css/main.css">\n              <script src="/bundle.js" defer><\/script>\n              <script>window.__initialData__=').concat(JSON.stringify(r.products),'<\/script>\n            </head>\n      \n            <body>\n              <div id="root">').concat(l,"</div>\n            </body>\n          </html>\n          "))}))})),b.listen(process.env.PORT||3e3,(function(){console.log("Server is running")}))})(),module.exports=r})();